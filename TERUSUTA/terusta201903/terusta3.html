<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta http-equiv="Content-Style-Type" content="text/css" />
        <meta name="generator" content="pandoc" />
        <title></title>
        <style type="text/css">code{white-space: pre;}</style>
        <link rel="stylesheet" href="./../../css/style.css" type="text/css" />
    </head>

    <body>
    <h1 id="ざっくりlamp環境">ざっくりLAMP環境</h1>
    <h1 id="apache">Apache</h1>
    <h2 id="apacheのインストール">Apacheのインストール</h2>
    <p>1.以下のコマンドを実行し、Apacheをインストールする。</p>
    <div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="ex">yum</span> install httpd</span></code></pre></div>
    <p>2.以下のコマンドを実行し、インストールされたことを確認する。</p>
    <div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="ex">yum</span> list installed <span class="kw">|</span> <span class="fu">grep</span> httpd</span>
    <span id="cb2-2"><a href="#cb2-2"></a><span class="ex">httpd</span> -version </span></code></pre></div>
    <h2 id="apacheの起動">Apacheの起動</h2>
    <p>1.以下のコマンドを実行する。</p>
    <div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="ex">systemctl</span> start httpd</span></code></pre></div>
    <p>2.以下のコマンドを実行し、サービスの起動状態を確認する。</p>
    <div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="ex">systemctl</span> status httpd</span></code></pre></div>
    <h2 id="httpd.confの設定確認">httpd.confの設定／確認</h2>
    <p>1.以下のコマンドを実行し、カレントディレクトリを移動し、ディレクトリ配下を確認する。</p>
    <div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1"></a><span class="bu">cd</span> /etc/httpd/conf/</span>
    <span id="cb5-2"><a href="#cb5-2"></a><span class="fu">ls</span> -lha </span></code></pre></div>
    <p>2.以下のコマンドを実行し、設定ファイルのバックアップを取得する。</p>
    <div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">mkdir</span> Config-Backup</span>
    <span id="cb6-2"><a href="#cb6-2"></a><span class="fu">cp</span> -a ./httpd.conf ./Config-Backup/httpd.conf.orig</span>
    <span id="cb6-3"><a href="#cb6-3"></a><span class="fu">ls</span> -lha ./Config-Backup</span></code></pre></div>
    <p>3.以下のコマンドを実行し、設定ファイルの以下の内容を設定／保存する。</p>
    <div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1"></a><span class="ex">vi</span> httpd.conf</span></code></pre></div>
    <p><em>設定項目</em></p>
    <table>
    <thead>
    <tr class="header">
    <th style="text-align: left;">設定項目</th>
    <th style="text-align: left;">設定値</th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td style="text-align: left;">ServerName</td>
    <td style="text-align: left;">FQDN</td>
    </tr>
    </tbody>
    </table>
    <p>4.以下のコマンドを実行する。</p>
    <div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1"></a><span class="ex">systemctl</span> restart httpd</span>
    <span id="cb8-2"><a href="#cb8-2"></a><span class="ex">systemctl</span> status httpd</span></code></pre></div>
    <p>5.ブラウザから設定FQDNにアクセスする。 　Apacheの初期設定ページが表示されることを確認する。</p>
    <h1 id="mysql">MySQL</h1>
    <h2 id="mysqlの導入">MySQLの導入</h2>
    <p>1.以下のコマンドを実行し、MySQLを導入する。</p>
    <div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1"></a><span class="ex">yum</span> install mysql-server</span></code></pre></div>
    <p>2.以下のコマンドを実行し、導入されたことを確認する。</p>
    <div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1"></a><span class="ex">yum</span> list installed <span class="kw">|</span> <span class="fu">grep</span> mysql</span>
    <span id="cb10-2"><a href="#cb10-2"></a><span class="ex">mysqld</span> --version</span></code></pre></div>
    <h2 id="mysqlの起動">MySQLの起動</h2>
    <p>1.以下のコマンドを実行する。</p>
    <div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1"></a><span class="ex">systemctl</span> start mysqld</span></code></pre></div>
    <p>2.以下のコマンドを実行し、サービスの起動状態を確認する。</p>
    <pre><code>systemctl status mysqld</code></pre>
    <h2 id="mysqlの設定">MySQLの設定</h2>
    <p>1.以下のコマンドを実行し、MySQLに接続する。</p>
    <div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1"></a><span class="ex">mysql</span> -u root -p</span></code></pre></div>
    <p>2.MySQLに接続される。 以下のコマンドを実行し、初期登録データベースを確認する。　</p>
    <div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1"></a><span class="ex">show</span> databases<span class="kw">;</span></span></code></pre></div>
    <p>3.以下のコマンドを実行し、データベース／テーブルを作成する。</p>
    <div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1"></a><span class="ex">create</span> database test<span class="kw">;</span></span>
    <span id="cb15-2"><a href="#cb15-2"></a></span>
    <span id="cb15-3"><a href="#cb15-3"></a><span class="ex">use</span> test<span class="kw">;</span></span>
    <span id="cb15-4"><a href="#cb15-4"></a></span>
    <span id="cb15-5"><a href="#cb15-5"></a><span class="ex">CREATE</span> TABLE name (</span>
    <span id="cb15-6"><a href="#cb15-6"></a><span class="fu">id</span> INT NOT NULL AUTO_INCREMENT PRIMARY KEY,</span>
    <span id="cb15-7"><a href="#cb15-7"></a><span class="ex">name</span> TEXT NOT NULL</span>
    <span id="cb15-8"><a href="#cb15-8"></a>)<span class="ex">DEFAULT</span> CHARACTER SET=utf8<span class="kw">;</span></span></code></pre></div>
    <p>4.以下のコマンドを実行し、登録カラム情報を確認する。</p>
    <pre><code>show columns from name;</code></pre>
    <p>5.以下のコマンドを実行し、MySQLからexitする。</p>
    <div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1"></a><span class="ex">quit</span></span></code></pre></div>
    <h1 id="php">PHP</h1>
    <h2 id="phpの導入">PHPの導入</h2>
    <p>1.以下のコマンドを実行し、phpを導入する。</p>
    <div class="sourceCode" id="cb18"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1"></a><span class="ex">yum</span> install php </span></code></pre></div>
    <p>2.以下のコマンドを実行し、導入されたことを確認する。</p>
    <div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1"></a><span class="ex">php</span> --version </span></code></pre></div>
    <h2 id="phpのモジュールの導入">PHPのモジュールの導入</h2>
    <p>1.以下のコマンドを実行し、phpモジュールを導入する。</p>
    <div class="sourceCode" id="cb20"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1"></a><span class="ex">yum</span> install php-mysqli php-pdo</span></code></pre></div>
    <p>2.以下のコマンドを実行し、導入することを確認する。</p>
    <div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1"></a><span class="ex">yum</span> list installed <span class="kw">|</span> <span class="fu">grep</span> php</span></code></pre></div>
    <h1 id="git">git</h1>
    <h2 id="gitの導入">gitの導入</h2>
    <p>1.以下のコマンドを実行しgitを導入する。</p>
    <div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1"></a><span class="ex">yum</span> install git</span></code></pre></div>
    <p>2.以下のコマンドを実行し、導入されたことを確認する。</p>
    <div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">git</span> --version</span></code></pre></div>
    <h2 id="ローカルリポジトリの作成">ローカルリポジトリの作成</h2>
    <p>1.カレントディレクトリを移動し、ローカルリポジトリを作成する。</p>
    <div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1"></a><span class="bu">cd</span> /var/www/html</span>
    <span id="cb24-2"><a href="#cb24-2"></a><span class="bu">pwd</span></span>
    <span id="cb24-3"><a href="#cb24-3"></a><span class="fu">ls</span> -lha </span>
    <span id="cb24-4"><a href="#cb24-4"></a><span class="fu">git</span> init</span></code></pre></div>
    <h2 id="リモートリポジトリの追加">リモートリポジトリの追加</h2>
    <p>1.以下のコマンドを実行する。</p>
    <div class="sourceCode" id="cb25"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">git</span> remote add origin https://github.com/TERUTARO/terusta201903.git</span></code></pre></div>
    <h2 id="リモートリポジトリからのpull">リモートリポジトリからのPULL</h2>
    <p>1.以下のコマンドを実行し、リモートリポジトリをPULLしてくる。</p>
    <div class="sourceCode" id="cb26"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">git</span> pull origin master</span>
    <span id="cb26-2"><a href="#cb26-2"></a><span class="fu">ls</span> -lha </span></code></pre></div>
    <p>以下のコマンドを実行する。</p>
    <h1 id="htmlファイルの編集">htmlファイルの編集</h1>
    <p>1.以下のコマンドを実行すせい、viエディタでhtmlファイルを開く。</p>
    <div class="sourceCode" id="cb27"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1"></a><span class="ex">vi</span> sample.html</span></code></pre></div>
    <p>2.「コーデイング箇所」内に以下の内容を追記し、内容を保存して閉じる。</p>
    <div class="sourceCode" id="cb28"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb28-1"><a href="#cb28-1"></a><span class="kw">&lt;form</span><span class="ot"> class</span> <span class="ot">=</span> <span class="st">&quot;input_form&quot;</span><span class="ot"> action=</span><span class="st">&quot;dbcon.php&quot;</span><span class="ot"> method=</span><span class="st">&quot;post&quot;</span><span class="kw">&gt;</span></span>
    <span id="cb28-2"><a href="#cb28-2"></a>        Please Input Your Name：&lt;input type=&quot;text&quot; name=&quot;yourname&quot;&gt;</span>
    <span id="cb28-3"><a href="#cb28-3"></a>    <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;submit&quot;</span><span class="ot"> value=</span><span class="st">&quot;登録する&quot;</span><span class="kw">&gt;</span></span>
    <span id="cb28-4"><a href="#cb28-4"></a><span class="kw">&lt;/form&gt;</span></span></code></pre></div>
    <h1 id="phpファイルの編集">phpファイルの編集</h1>
    <p>1.以下のコマンドを実行する。</p>
    <div class="sourceCode" id="cb29"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1"></a><span class="ex">vi</span> dbcon.php</span></code></pre></div>
    <p>2.「コーディング箇所 2 」内に以下の内容を追記し、内容を保存して閉じる。</p>
    <p><em>追記前</em></p>
    <div class="sourceCode" id="cb30"><pre class="sourceCode php"><code class="sourceCode php"><span id="cb30-1"><a href="#cb30-1"></a><span class="kw">$db_host</span> = <span class="st">&quot;&quot;</span><span class="ot">;</span></span>
    <span id="cb30-2"><a href="#cb30-2"></a><span class="kw">$db_user</span> = <span class="st">&quot;&quot;</span><span class="ot">;</span></span>
    <span id="cb30-3"><a href="#cb30-3"></a><span class="kw">$db_pass</span> = <span class="st">&quot;&quot;</span><span class="ot">;</span></span>
    <span id="cb30-4"><a href="#cb30-4"></a><span class="kw">$db_name</span> = <span class="st">&quot;&quot;</span><span class="ot">;</span></span></code></pre></div>
    <p><em>追記後</em></p>
    <div class="sourceCode" id="cb31"><pre class="sourceCode php"><code class="sourceCode php"><span id="cb31-1"><a href="#cb31-1"></a><span class="kw">$db_host</span> = <span class="st">&quot;localhost&quot;</span><span class="ot">;</span></span>
    <span id="cb31-2"><a href="#cb31-2"></a><span class="kw">$db_user</span> = <span class="st">&quot;root&quot;</span><span class="ot">;</span></span>
    <span id="cb31-3"><a href="#cb31-3"></a><span class="kw">$db_pass</span> = <span class="st">&quot;&quot;</span><span class="ot">;</span></span>
    <span id="cb31-4"><a href="#cb31-4"></a><span class="kw">$db_name</span> = <span class="st">&quot;test&quot;</span><span class="ot">;</span></span></code></pre></div>
    <p>3.「コーディング箇所 3」内に以下の内容を追記し、内容を保存して閉じる。</p>
    <div class="sourceCode" id="cb32"><pre class="sourceCode php"><code class="sourceCode php"><span id="cb32-1"><a href="#cb32-1"></a><span class="kw">$stmt</span> = <span class="kw">$mysqli</span>-&gt;prepare<span class="ot">(</span><span class="st">&quot;INSERT INTO name (name) VALUES (?)&quot;</span><span class="ot">);</span></span></code></pre></div>
    <h1 id="内容確認">内容確認</h1>
    <h2 id="webフロント">Webフロント</h2>
    <p>1.ブラウザ上から以下のURLにアクセスする。 　 　[URL] <FQDN>/sample.html</p>
    <p>2.入力フォームに自分の名前を入力し、登録ボタンをクリックする。 　画面遷移できていることを確認する。</p>
    <h2 id="db-post">DB POST</h2>
    <p>1.サーバにて以下のコマンドを実行する。</p>
    <div class="sourceCode" id="cb33"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1"></a><span class="ex">mysql</span> -u root -p</span></code></pre></div>
    <p>2.以下のコマンドを実行する。ブラウザから入力したデータが格納されていることを確認する。</p>
    <div class="sourceCode" id="cb34"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1"></a><span class="ex">use</span> test<span class="kw">;</span></span>
    <span id="cb34-2"><a href="#cb34-2"></a></span>
    <span id="cb34-3"><a href="#cb34-3"></a><span class="kw">select</span> <span class="ex">*</span> from name<span class="kw">;</span></span></code></pre></div>
    <p>　</p>
    </body>
</html>